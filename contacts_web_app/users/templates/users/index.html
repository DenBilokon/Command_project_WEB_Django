{% extends 'users/base.html' %}

{% block content %}
{% load static %}
<div class="text-center">
    <br>
    <br>
    <div class="Title" rel="stylesheet" style="text-align: left; margin-left: 190px; font-size: 40px;">HELLO WORLD</div>
    <br>
    <div class="chat-form" style="max-width: 630px; margin: 15px;">
        <form id="question-form" action="{% url 'users:question_to_ai' %}" method="post">
            {% csrf_token %}
            <br>
            <br>
            <div class="mb-2">
                <label for="question" style="font-weight: bold;">I am the assistant of this website. You can ask me
                    about the information on this site and what you can do here. I will gladly assist you with that!
                    Enter your question and press the button. I will provide the answer! </label>
            </div>
            <div class="d-flex">
                <input type="text" id="question" name="question" class="form-control me-2">
                <input type="submit" class="btn btn-dark" value="Ask">
            </div>
        </form>
        <br>
        <div id="response-container"></div>
    </div>
</div>

<h1 id="question-response">
    {{ answer_for_user }}
</h1>

</div>

<script>
  $(document).ready(function() {
    $('#question-form').submit(function(event) {
      event.preventDefault();
      var form = $(this);
      var url = form.attr('action');
      var formData = form.serialize();

      $.ajax({
        type: 'POST',
        url: url,
        data: formData,
        success: function(response) {
          $('#response-container').html(response);
        }
      });
    });
  });


</script>


{% endblock %}